# GIV-006: Setup estructura de testing

## ğŸ“‹ InformaciÃ³n del Ticket

**Epic:** Epic 0: Setup  
**Priority:** Media  
**Estimate:** 2h  
**Status:** ğŸ”„ TODO  
**Assignee:** -  

## ğŸ“– User Story

**Como** desarrollador  
**Quiero** configurar el entorno de testing para contratos y frontend  
**Para** poder desarrollar con TDD y garantizar calidad del cÃ³digo

## ğŸ¯ Acceptance Criteria

- [ ] Configurar Foundry tests en packages/foundry/test
- [ ] Crear estructura de carpetas para tests
- [ ] Configurar mocks para contratos externos (Uniswap, Morpho)
- [ ] Setup testing utilities y helpers
- [ ] Ejecutar `forge test` exitosamente
- [ ] Configurar coverage reporting

## ğŸ”§ Technical Details

### Estructura de carpetas:
```
packages/foundry/test/
â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ GivHook.t.sol
â”‚   â””â”€â”€ GivVault.t.sol
â”œâ”€â”€ integration/
â”‚   â””â”€â”€ EndToEnd.t.sol
â”œâ”€â”€ mocks/
â”‚   â”œâ”€â”€ MockPoolManager.sol
â”‚   â””â”€â”€ MockMorpho.sol
â””â”€â”€ utils/
    â””â”€â”€ TestUtils.sol
```

### Setup bÃ¡sico de testing:
```solidity
// test/utils/TestUtils.sol
pragma solidity ^0.8.20;

import "forge-std/Test.sol";
import {IHooks} from "@uniswap/v4-core/src/interfaces/IHooks.sol";

contract TestUtils is Test {
    function setUp() public virtual {
        // Setup comÃºn para todos los tests
    }
    
    function createMockPool() public returns (address) {
        // Helper para crear pools de test
    }
}
```

### ConfiguraciÃ³n en foundry.toml:
```toml
[profile.default]
test = "test"
ffi = true
fuzz = { runs = 1000 }

[profile.coverage]
verbosity = 3
```

## ğŸ”— Dependencies

**Blocking:** GIV-001 (Scaffold-ETH 2), GIV-003 (Uniswap V4)  
**Blocks:** Desarrollo de contratos con tests

## ğŸ“ Definition of Done

- âœ… Estructura de carpetas de tests creada
- âœ… Mock contracts para Uniswap/Morpho configurados
- âœ… Test utilities y helpers disponibles
- âœ… `forge test` ejecuta sin errores
- âœ… Coverage reporting configurado
- âœ… DocumentaciÃ³n de testing strategy

## ğŸš¨ Notes

- Los mocks son cruciales para testing independiente
- Configurar forks de Base Sepolia para integration tests
- Usar forge-std para herramientas de testing avanzadas

## ğŸ”„ Related Issues

- Depende de GIV-003 (necesita Uniswap V4 deps)
- HabilitarÃ¡ TDD para desarrollo de contratos
- Necesario para CI/CD en el futuro